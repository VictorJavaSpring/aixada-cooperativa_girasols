<?php
define('DS', DIRECTORY_SEPARATOR);
define('__ROOT__', dirname(dirname(dirname(__FILE__))).DS); 

require_once(__ROOT__ . "local_config/config.php");
require_once(__ROOT__ . "php/inc/database.php");
require_once(__ROOT__ . "php/utilities/general.php");

try{
    validate_session(); // The user must be logged in.

    switch (get_param('oper')) {
    	
    	//returns a list of all purchases for given uf. 
    	case 'getStockValue':
			printXML(stored_query_XML_fields('get_stock_value', get_param('provider_id',0)));
    		exit;   

    		
    default:  
    	 throw new Exception("ctrl/Report: oper={$_REQUEST['oper']} not supported");  
        break;
    }


} 

catch(Exception $e) {
    header('HTTP/1.0 401 ' . $e->getMessage());
    die ($e->getMessage());
}  


?>